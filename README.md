# 图片测量助手 Pro

一个功能强大的在线图片测量工具，支持精准的距离测量、自动校准和多种单位转换。

## ✨ 主要功能

### 📐 三种工作模式

1. **校准模式 (C)**
   - 通过绘制已知长度的参考线进行精准校准
   - 支持多条校准线，自动计算平均像素比率
   - 双击标签快速编辑参考长度

2. **测量模式 (M)**
   - 在校准后测量图片中任意两点之间的距离
   - 实时显示测量结果（支持多种单位）
   - 精准的点对点测量

3. **选择模式 (S)**
   - 可视化选择和管理所有测量线
   - 支持框选、移动、删除等操作
   - 批量操作选中的测量线

### 🎯 核心功能

- **自动单位转换** - 支持 mm、cm、m、px、inch 等多种单位
- **精准校准系统** - 多条参考线自动求平均，提高精度
- **缩放与平移** - 滑轮缩放（0.01x - 100x）、空格+拖拽平移
- **快捷键支持**
  - `C` - 切换到校准模式
  - `M` - 切换到测量模式  
  - `S` - 切换到选择模式
  - `空格+拖拽` - 移动画布
  - `Shift` - 多选
  - `双击标签` - 编辑参考长度
  - `Delete/Backspace` - 删除选中的线
  - `Esc` - 取消当前操作

### 🎨 样式自定义

在「样式」菜单中可以调整：
- 字体大小 (8px - 32px)
- 标签背景透明度 (0% - 100%)
- 点的半径大小 (2px - 20px)
- 线的宽度 (0.5px - 5px)
- 标签位置（上、下、左、右、居中等 9 个方向）

### 💾 数据管理

- 图片上传后自动适配到视口
- 支持完整的测量数据保存（刷新前保持）
- 「重置」按钮清除所有数据并重新开始

## 🚀 使用指南

### 基本工作流程

1. **上传图片**
   - 点击「上传图片」按钮或拖拽图片到画布
   - 图片会自动缩放适配到视口

2. **校准参考**
   - 切换到「校准」模式
   - 在图片中绘制已知长度的线（例如 1cm 的参考线）
   - 点击标签编辑实际长度

3. **进行测量**
   - 切换到「测量」模式
   - 绘制要测量的线段
   - 系统自动计算并显示距离

4. **结果优化**
   - 切换到「选择」模式管理所有测量线
   - 使用「样式」菜单调整显示效果
   - 可以随时查看和编辑各条线的值

### 操作技巧

- **精准定位**：放大画布（滑轮向上）后可以更精确地绘制线条
- **框选操作**：在选择模式下，拖拽形成矩形框可以一次选中多条线
- **移动调整**：选中线后可直接拖拽端点或整条线进行位置调整
- **单位切换**：改变单位下拉菜单时，所有已测量的数值会自动转换

## 🔧 技术特性

- **纯前端实现** - 无需后端服务，完全在浏览器运行
- **高性能渲染** - 使用 Canvas 高效绘制，支持大图片
- **响应式设计** - 适配桌面和平板设备
- **精准计算** - 浮点数精确计算，避免舍入误差
- **拖拽系统** - 支持点、线、选区的多种拖拽操作

## 📋 界面说明

### 顶部工具栏

| 组件 | 功能 |
|------|------|
| 上传图片 | 选择本地图片文件上传 |
| 模式按钮 | 切换校准/测量/选择模式 |
| 单位下拉 | 选择测量单位 |
| 样式 | 打开样式自定义菜单 |
| 缩放按钮 | 手动放大/缩小 |
| 重置 | 清除所有数据 |

### 底部状态栏

- 快捷键提示和操作说明
- 缩放比例显示
- 校准状态（已校准/未校准）

## 🎨 默认配置

```javascript
字体大小: 14px
标签背景透明度: 70%
点的半径: 5px
线的宽度: 2px
标签位置: 自动居中
```

## 💡 常见问题

**Q: 如何确保测量精度？**
A: 使用多条已知长度的参考线进行校准，系统会自动计算平均值以提高精度。避免在过小的缩放级别下进行。

**Q: 支持哪些图片格式？**
A: 支持浏览器原生支持的所有图片格式（JPG、PNG、GIF、WebP 等）。

**Q: 测量结果可以导出吗？**
A: 暂不支持，但可以截图或手动记录测量结果。

**Q: 如何快速重新定位到全图？**
A: 点击缩放显示区域旁边的缩放按钮，或上传新图片时会自动适配。

## 📱 兼容性

- ✅ Chrome/Edge (推荐)
- ✅ Firefox
- ✅ Safari

## 📄 许可

MIT License
